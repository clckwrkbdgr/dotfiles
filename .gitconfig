# Sadly this file isn't recognized by git.
# Should be added manually to .git/config

[filter "textsort"]
	smudge = cat
	clean = sort

[filter "zipfile"]
	smudge = "zipdump load"
	clean = "zipdump dump"

[filter "ignorewallpaper"]
	smudge = cat
	clean = "sed '/name=\"image-path\"/d;/name=\"last-[^\"]*image\"/d'"

[filter "ignore_systray_visibility"]
	smudge = cat
	clean = "sed '/<property name=\"names-visible\" type=\"array\">/,/<\\/property>/d' | sed '/<property name=\"names-hidden\" type=\"array\">/,/<\\/property>/d'"

[filter "ignore_moc_fastdir"]
	smudge = cat
	clean = "sed '/^Fastdir[0-9][0-9]* *=/d'"

[filter "gajim_config"]
	smudge = cat
	clean = "sed 's/^ *\\(last_[a-z]\\+_dir\\|latest_disco_addresses\\|collapsed_rows\\|accounts[.][^ =]*[.]last_status_msg\\|accounts[.][^ =]*[.]ssl_fingerprint_sha1\\|accounts[.][^ =]*[.]password\\) *= *.*$/\\1 =/'"

[filter "insteadrc_remove_state"]
	smudge = cat
	clean = "sed 's/^game = .*$/game = /;s/^fs = [01]$/fs = 0/'"

[filter "sqlite_text_dump"]
	smudge = "sqlitedump --load"
	clean = "sqlitedump --dump"

[filter "pretty_json"]
	smudge = cat
	clean = "python -m json.tool"

[filter "firefox_pref_js"]
	smudge = clean-firefox-prefs.sh --restore
	clean = clean-firefox-prefs.sh

[filter "autoskipper_user_js"]
	smudge = cat
	clean = "sed 's/^\\(.*RESPONSE_JS_URL[^\"]*\\)\"[^\"]\\+\"\\(.*\\)$/\\1\"https:\\/\\/localhost\\/response.js\"\\2/'"

[filter "firefox_userscript_config"]
	smudge = clean-firefox-userscripts.sh --restore
	clean = clean-firefox-userscripts.sh

[filter "firefox_mimetypes"]
	smudge = cat
	clean = sort-xml /RDF:RDF/RDF:Description @RDF:about | sort-xml /RDF:RDF/RDF:Seq @RDF:about

[filter "expand_homedir"]
	smudge = "sed 's|$HOME|'\"$HOME\"'|g'"
	clean = "sed 's|'\"$HOME\"'|$HOME|g'"

[filter "pidgin_prefs"]
	smudge = "sed 's|$HOME|'\"$HOME\"'|g'"
	clean = "sed 's|'\"$HOME\"'|$HOME|g;/pref name=.userlist_width. type=.int./d;/pref name=.default. type=.int./d;/pref name=.idleaway. type=.int./d'"

[filter "freeciv_rc"]
	smudge = clean-freeciv-rc.sh --restore
	clean = clean-freeciv-rc.sh

[filter "openttd_config"]
	smudge = clean-openttd-cfg.sh --restore
	clean = clean-openttd-cfg.sh

[filter "gtkfilechooser"]
	smudge = cat
	clean = "sed 's|Geometry\\([XY]\\)=[0-9]\\+|Geometry\\1=0|'"

[filter "remove_known_applications"]
	smudge = cat
	clean = "xmlstarlet ed -d \"/channel/property[@name='applications']/property[@name='known_applications']\""

[filter "remove_xfce_window_size"]
	smudge = cat
	clean = "xmlstarlet ed -d \"/channel/property[@name='last']/property[@name='window-width']\" | xmlstarlet ed -d \"/channel/property[@name='last']/property[@name='window-height']\""

[filter "gimp_tags"]
	smudge = cat
	clean = "sort-xml /tags/resource @identifier | sed 's/checksum=.[0-9a-f]\\+./checksum=\"(null)\"/'"

[filter "gimp_menurc"]
	smudge = cat
	clean = "sort | sed '/^(gtk_accel_path \"<Actions>\\/windows\\/windows-display-[0-9]\\+\" \"<Alt>[0-9]\\+\")/d'"

[filter "mc_ini"]
	smudge = cat
	clean = "sed 's|ftpfs_password=.*|ftpfs_password=anonymous@|'"
