<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<script type="application/javascript" src="../unittest.js"></script>
	<script type="application/javascript" src="../utils.js"></script>
</head>
<body onload="clckwrkbdgr.unittest.run('should_')">
	<noscript>
		Failed: Javascript is needed to be turned ON to test Javascript functionality!
	</noscript>
	<div id="unittest-main">
	</div>

<script type="application/javascript">
var unittest = clckwrkbdgr.unittest;

function setUp()
{
	unittest.assertTrue(window.clckwrkbdgr);
}

function should_get_default_value_if_stored_is_absent()
{
	var value = clckwrkbdgr.storage.get('definitely-absent', 'default value');
	unittest.assertEqual(value, 'default value');
}

function should_get_and_set_storage_value()
{
	var random_value = Math.random().toString();

	unittest.assertTrue(clckwrkbdgr.storage.set('value', random_value));

	value = clckwrkbdgr.storage.get('value', 'default value');
	unittest.assertEqual(value, random_value);
}

</script>

</body>
</html>
